% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/keyfeature.R
\name{keyfeature}
\alias{keyfeature}
\title{Key Feature (KF) analysis}
\usage{
keyfeature(
  target,
  reference,
  features = NULL,
  plot = TRUE,
  xlim = c(-2, 2),
  xinterval = 0.5
)
}
\arguments{
\item{target}{\enumerate{
\item File path to the target corpus or
2) File name in case located in the working directory (File should be .csv, .xlsx, or .xls).
}}

\item{reference}{\enumerate{
\item File path to the reference corpus or
2) File name in case located in the working directory (File should be .csv, .xlsx, or .xls).
}}

\item{features}{Optional. One or more column names to include in the key feature analysis.
If not specified, the function automatically selects all numeric columns that appear in both files.}

\item{plot}{If \code{TRUE} (default), draw a lollipop plot of Cohen's d (features on Y, D values on X).}

\item{xlim}{Numeric vector giving X-axis limits for the plot
(default \code{c(-2, 2)}).}

\item{xinterval}{Numeric step for X-axis intervals
(default \code{0.5}).}
}
\value{
A data frame (one row per feature) with:
\describe{
\item{feature}{Feature name}
\item{mean_target, mean_reference}{Means in target and reference corpora}
\item{sd_target, sd_reference}{SDs in target and reference corpora}
\item{sd_pooled}{Pooled SD}
\item{cohens_d}{Cohen's \eqn{d} effect size}
}

The returned table and plot are sorted in descending order of \code{cohens_d}.
}
\description{
Identify key lexico-grammatical features that distinguish target and reference corpora (Egbert & Biber, 2023). The function reads two files
(\code{.csv}, \code{.xlsx}, or \code{.xls}), each containing normalized rates
of feature occurrences (rows = texts; columns = features). For each feature, it
computes:
\itemize{
\item Mean and SD for target and reference corpora
\item Pooled SD = sqrt((sd_t^2 + sd_r^2)/2)
\item Cohen's d = (mean_t - mean_r) / pooled SD
}
}
\examples{
\dontrun{
# Select files (csv, xlsx, or xls) and features (numeric) to include in the analysis
kf <- keyfeature(
  target    = "korean_target.csv",
  reference = "chinese_reference.csv",
  features  = c("emphatic", "nn_all", "negation")
)

# Select files (csv, xlsx, or xls) and include all features (numeric) that overlap between the two files.
kf <- keyfeature("target.xlsx", "reference.xlsx")
}

}
\references{
Egbert, J., & Biber, D. (2023). Key feature analysis: A simple, yet powerful method for comparing text varieties. Corpora, 18(1), 121â€“133. https://doi.org/10.3366/cor.2023.0275
}
